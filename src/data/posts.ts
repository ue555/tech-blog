import type {BlogPost} from "../types/blog";

export const blogPosts: BlogPost[] = [
  {
    id: 1,
    title: "実践Vimを読みました",
    excerpt:
      "Vimをマスターするための実践コマンド集：移動から高度な編集テクニックまで",
    content: `
## はじめに

Vimは、その独特な操作方法と急な学習曲線から敬遠されがちなテキストエディタです。しかし、一度その哲学と強力なコマンド体系を身につければ、コーディングの速度と効率は劇的に向上します。この記事では、あなたのVimスキルを次のレベルへ引き上げるための、基本的な移動から高度な編集、カスタマイズまでを網羅した実践的なコマンドを紹介します。

### 1. 基本のキーのカーソル移動を極める

Vimの効率性の根幹は、キーボードから手を離さずにテキスト内を自在に移動できることにあります。まずは、この「移動（モーション）」をマスターしましょう。

#### 単語単位の移動

単語単位の移動は、最も頻繁に使う操作の一つです。小文字と大文字のコマンドで「単語」の定義が異なる点を理解するのが重要です。

- **w**, **b**, **e**: 次/前の単語の先頭/末尾へ移動します。句読点や記号は単語の区切りと見なされます。
- **W**, **B**, **E**: 空白を基準に、次/前の単語の先頭/末尾へ移動します。hello-worldは1つの単語として扱われます。
- **ge**, **gE**: 前の単語の末尾へ移動します。**e**/**E**の後方バージョンです。

|コマンド|動作|**hello-world_test** での挙動|
|:---|:---:|---:|
|**w**|次の単語の先頭へ|**hello** → **-** → **world** → **_** → **test**|
|**W**|次のWORDの先頭へ|**hello-world_test** 全体を1単語として扱う|
|**e**|単語の末尾へ|**o** → **d** → **t**|
|**E**|WORDの末尾へ|**t** (testの末尾)|

---------

#### **行内ジャンプ**

一行が長いコードや文章では、文字単位の検索が非常に役立ちます。

- **f{char}**: 行内で前方にある **{char}** の文字へ移動します。
- **F{char}**: 行内で後方にある **{char}** の文字へ移動します。
- **t{char}**: 行内で前方にある **{char}** の手前の文字へ移動します。
- **T{char}**: 行内で後方にある **{char}** の後ろの文字へ移動します。

これらのコマンド実行後、**;** で同じ方向へ次の候補を検索し、**,** で逆方向へ検索できます。これはデバッグで特定の関数呼び出しを次々に確認する際などに非常に便利です。

---------

#### **論理行 vs 表示行**

エディタで長い行が折り返されて表示されている場合、Vimはそれを「表示行」と、実際の改行コードが入っている行を「論理行」として区別します。

- **論理行**での移動: **j**, **k**, **^**(行頭の非空白文字へ), **$**(行末へ)
- **表示行**での移動: **gj**, **gk**, **g^**, **g$**

デフォルトの **j** **k** の挙動を **gj** **gk** に変更する、以下のマッピングは非常に人気があります。

\`\`\`sh: VimScript
nnoremap k gk
nnoremap j gj
\`\`\`

### 2. テキスト編集の効率を爆上げする

Vimの編集は「オペレータ + モーション」という文法で成り立っています。これにより、驚くほど直感的に複雑な編集が可能です。

#### **オペレータとテキストオブジェクト**

- オペレータ: d (削除), c (変更), y (ヤンク/コピー) など。
- テキストオブジェクト: 操作対象の範囲を指定します。

テキストオブジェクトの例:
|オブジェクト|意味|使用例|
|:---|:---:|---:|
|**iw**|内側の単語 (inner word)|**diw**: 現在のカーソル位置の単語を削除|
|**aw**|単語と空白 (a word)|**daw**: 単語とそれに続く空白を削除|
|**i"**, **a"**|ダブルクォートの内側/全体|**ci"**: "で囲まれた範囲を変更|
|**it**, **at**|タグの内側/全体|**yit**: HTML/XMLタグの中身をヤンク|
|**ip**, **ap**|段落の内側/全体|**dap**: 空行を含む段落全体を削除|

例えば、**ci"** は「Change Inner **"**（ダブルクォートの内側を変更する）」と読めます。カーソルが **"この部分"** のどこかにあれば、このコマンド一発でクォート内のテキストが削除され、挿入モードに移行します。

---------

#### **究極のコマンド「.」(ドット)**

**.** コマンドは、直前に行った変更（挿入、削除、置換）を繰り返します。これはVimの中でも最も強力なコマンドの一つです。
**dw** で単語を削除した後、別の単語の上で **.** を押せば、その単語も削除されます。複数の箇所に同じ変更を加えたい場合に絶大な効果を発揮します。

---------

#### **大文字/小文字の変換**

gU, gu, g~ オペレータとモーション/テキストオブジェクトを組み合わせることで、範囲指定して大文字/小文字変換ができます。

- **gUaw**: 現在の単語を大文字に (**gU** + **aw**)
- **gUit**: タグの内側を大文字に (**gU** + **it**)
- **gUU** または **gugu**: 行全体を大文字/小文字に

---------

### 3. 検索と置換 - プロフェッショナルの技

テキストの検索と置換は、開発において避けては通れない作業です。Vimはこれを強力にサポートします。

#### **賢い検索設定**

**.vimrc** に以下を設定しておくと、検索が非常に快適になります。
\`\`\`sh: VimScript
set ignorecase " 検索時に大文字/小文字を区別しない
set smartcase  " 検索パターンに大文字が含まれている場合のみ、大文字/小文字を区別する
\`\`\`

これにより、通常は小文字で検索すれば "foo", "Foo", "FOO" の全てにマッチし、"Foo" と入力すれば "Foo" にのみマッチするようになります。

---------

#### **正規表現を味方につける**

Vimの正規表現は強力ですが、特殊文字のエスケープが少し面倒です。パターンの先頭に \\v (very magic) を付けることで、ほとんどの記号が特殊文字として扱われ、より直感的に記述できます。

例: 重複した単語を検索する
\`\`\`sh: VimScript
/\\v<(\\w+)\\_s+\\1>
\`\`\`

- **\\v**: very magicモード
- **<**: 単語の先頭
- **(\\w+)**: 1つ以上の単語文字をキャプチャ
- **\\_s+**: 空白または改行
- **\\1**: 最初にキャプチャした単語と一致
- **>**: 単語の末尾

---------

#### **マッチ範囲の精密制御** **\\zs, **\\ze**

**\\zs** (start) と **\\ze** (end) を使うと、パターンのどの部分を実際にマッチとしてハイライト・置換するかを制御できます。

例: **function(arg)** の **function** のみマッチさせたい
\`\`\`sh: VimScript
/\\v\\w+\\ze(
\`\`\`

これは **(** が続く単語にマッチしますが、実際にマッチするのは ( の手前まで (\\ze) です。

---------

#### **強力なグローバルコマンド** **:g**

**:g/{pattern}/[cmd]** は、**{pattern}** にマッチする全ての行で **[cmd]** を実行する非常に強力なコマンドです。

例: **{...}** ブロック内の行をソートする
\`\`\`sh: VimScript
:g/{/ .+1,/}/-1 sort
\`\`\`

これは **{** のある行の次の行から、**}** のある行の前の行までを範囲として **sort** コマンドを実行します。

---------

### 4. 作業空間を最適化する - ウィンドウとタブ

Vimでは、複数のファイルを同時に開いて効率的に作業するためのウィンドウとタブ機能が充実しています。コマンドは **<C-w>** (Ctrl + w) から始まります。

**<C-w>s** / **<C-w>v:** ウィンドウを水平/垂直に分割
**<C-w>h,j,k,l**: 左/下/上/右のウィンドウへ移動
**<C-w>c**: 現在のウィンドウを閉じる
**<C-w>o**: 現在のウィンドウ以外を全て閉じる
**gt** / **gT**: 次/前のタブへ移動
**<C-w>T**: 現在のウィンドウを新しいタブへ移動

---------

## まとめ

今回紹介したコマンドは、Vimの持つ膨大な機能のほんの一部に過ぎません。しかし、これらの基本的な「文法」をマスターするだけで、あなたのテキスト編集は間違いなく別次元の体験になるはずです。

Vimの道は一日にしてならず。日々のコーディングの中で少しずつ新しいコマンドを試し、手に馴染ませていくことが上達への一番の近道です。快適なVimライフをお楽しみください！
`,
    date: "2025-08-08",
    tags: ["読書", "vim"],
    imageUrl:
      "images/blog1.png",
  },
];
